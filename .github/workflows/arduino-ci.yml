name: Arduino CI

on: [push]

# jobs run in parallel

jobs:
    build:
        runs-on: ubuntu-latest
        
        steps:
            - name: run hello world
              run: echo "say hello to everyone"  
            #checkout repo
            - name: Checkout repository 
              uses: actions/checkout@v5
    build-and-test:
        needs: [build]
        runs-on: ubuntu-latest
        steps: 
              # Install Arduino CLI
            - name: Setup Arduino CLI
              uses: arduino/setup-arduino-cli@v1
            # Install board core
            - name: Install Arduino AVR Core
              run: |
                arduino-cli core update-index
                arduino-cli core install arduino:avr
                
            - name: Compile Blink Sketch
              working-directory: ${{ github.workspace }}
              run: |
                ls -R
                arduino-cli compile --fqbn arduino:avr:uno Blink --verbose

            # compile Arduino sketch 
            #- name: compile Arduino Sketches
            #  uses: arduino/compile-sketches@v1
            #  with: 
            #    fqbn: "arduino:avr:uno"
            #    sketch-paths: |
             #       ./Blink 
                    
            # path to your sketch folder 